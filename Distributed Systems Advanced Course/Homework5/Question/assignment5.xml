<?xml version="1.0" encoding="UTF-8"?>
<tns:configuration xmlns:tns="http://www.sics.se/adl">
 <tns:factories>
  <tns:factory>
   <tns:factoryName>PaxosUniformConsensusComponentFactory</tns:factoryName>
   <tns:componentClass>assignment5.components.PaxosConsensusComponent</tns:componentClass>
  </tns:factory>
  <tns:factory>
   <tns:factoryName>AbortableConsensusComponentFactory</tns:factoryName>
   <tns:componentClass>assignment5.components.AbortableConsensusComponent</tns:componentClass>
  </tns:factory>
  <tns:factory>
   <tns:factoryName>EventualLeaderDetectorComponentFactory</tns:factoryName>
   <tns:componentClass>assignment5.components.EventualLeaderDetectorComponent</tns:componentClass>
  </tns:factory>
  <tns:factory>
   <tns:factoryName>BebBroadcastComponentFactory</tns:factoryName>
   <tns:componentClass>assignment3.components.BebBroadcastComponent</tns:componentClass>
  </tns:factory>
  <tns:factory>
   <tns:factoryName>TimerComponentFactory</tns:factoryName>
   <tns:componentClass>tbn.timer.TimerComponent</tns:componentClass>
  </tns:factory>
  <tns:factory>
   <tns:factoryName>ApplicationComponentFactory</tns:factoryName>
   <tns:componentClass>assignment5.components.ApplicationComponent</tns:componentClass>
  </tns:factory>
  <tns:factory>
   <tns:factoryName>CommunicationComponentFactory</tns:factoryName>
   <tns:componentClass>tbn.comm.mina.CommunicationComponent</tns:componentClass>
  </tns:factory>
  <tns:factory>
   <tns:factoryName>DelayComponentFactory</tns:factoryName>
   <tns:componentClass>assignment1.components.DelayComponent</tns:componentClass>
  </tns:factory>
 </tns:factories>
 <tns:components>
  <tns:component>
   <tns:factoryName>BebBroadcastComponentFactory</tns:factoryName>
   <tns:componentName>BebBroadcastComponent</tns:componentName>
  </tns:component>
  <tns:component>
   <tns:factoryName>TimerComponentFactory</tns:factoryName>
   <tns:componentName>TimerComponent</tns:componentName>
  </tns:component>
  <tns:component>
   <tns:factoryName>ApplicationComponentFactory</tns:factoryName>
   <tns:componentName>ApplicationComponent</tns:componentName>
  </tns:component>
  <tns:component>
   <tns:factoryName>CommunicationComponentFactory</tns:factoryName>
   <tns:componentName>CommunicationComponent</tns:componentName>
  </tns:component>
  <tns:component>
   <tns:factoryName>DelayComponentFactory</tns:factoryName>
   <tns:componentName>DelayComponent</tns:componentName>
  </tns:component>
  <tns:component>
   <tns:factoryName>PaxosUniformConsensusComponentFactory</tns:factoryName>
   <tns:componentName>PaxosUniformConsensusComponent</tns:componentName>
  </tns:component>
  <tns:component>
   <tns:factoryName>AbortableConsensusComponentFactory</tns:factoryName>
   <tns:componentName>AbortableConsensusComponent</tns:componentName>
  </tns:component>
  <tns:component>
   <tns:factoryName>EventualLeaderDetectorComponentFactory</tns:factoryName>
   <tns:componentName>EventualLeaderDetectorComponent</tns:componentName>
   <tns:initFile>eld.properties</tns:initFile>
  </tns:component>
 </tns:components>
 <tns:channels>
  <tns:channel>
   <tns:channelName>ApplicationComponentInputChannel</tns:channelName>
   <tns:eventClass>assignment5.events.UcDecideEvent</tns:eventClass>

   <tns:eventClass>assignment4.events.ApplicationEvent</tns:eventClass>
   <tns:eventClass>tbn.timer.events.TimerExpiredEvent</tns:eventClass>
  </tns:channel>
  <tns:channel>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
   <tns:eventClass>assignment3.events.BebDeliverEvent</tns:eventClass>
   <tns:eventClass>assignment5.events.TrustLeaderEvent</tns:eventClass>
   <tns:eventClass>assignment5.events.AcReturnEvent</tns:eventClass>
   <tns:eventClass>assignment5.events.UcProposeEvent</tns:eventClass>
  </tns:channel>
  <tns:channel>
   <tns:channelName>AbortableConsensusInputChannel</tns:channelName>
   <tns:eventClass>assignment5.events.ReadAckMessage</tns:eventClass>
   <tns:eventClass>assignment5.events.WriteAckMessage</tns:eventClass>
   <tns:eventClass>assignment5.events.NackMessage</tns:eventClass>
   <tns:eventClass>assignment5.events.AcProposeEvent</tns:eventClass>
  </tns:channel>
  <tns:channel>
   <tns:channelName>EventualLeaderDetectorInputChannel</tns:channelName>
   <tns:eventClass>assignment5.events.EldHeartbeatMessage</tns:eventClass>
   <tns:eventClass>assignment5.events.EldTimeoutEvent</tns:eventClass>
  </tns:channel>
  <tns:channel>
   <tns:channelName>InitEventChannel</tns:channelName>
   <tns:eventClass>assignment1.events.InitEvent</tns:eventClass>
  </tns:channel>
  <tns:channel>
   <tns:channelName>DelayComponentInputChannel</tns:channelName>
   <tns:eventClass>tbn.comm.mina.events.MessageEvent</tns:eventClass>
   <tns:eventClass>assignment1.events.DelayTimerExpiredEvent</tns:eventClass>
  </tns:channel>
  <tns:channel>
   <tns:channelName>CommunicationComponentInputChannel</tns:channelName>
   <tns:eventClass>tbn.comm.mina.events.MessageEvent</tns:eventClass>
  </tns:channel>
  <tns:channel>
   <tns:channelName>BebBroadcastComponentInputChannel</tns:channelName>
   <tns:eventClass>assignment3.events.BroadcastMessage</tns:eventClass>
   <tns:eventClass>assignment3.events.BebBroadcastEvent</tns:eventClass>
  </tns:channel>
  <tns:channel>
   <tns:channelName>TimerEventChannel</tns:channelName>
   <tns:eventClass>tbn.timer.events.TimerEvent</tns:eventClass>
  </tns:channel>
 </tns:channels>
 <tns:bindings>
  <tns:binding>
   <tns:componentName>BebBroadcastComponentFactory:BebBroadcastComponent</tns:componentName>
   <tns:eventClass>assignment3.events.BebDeliverEvent</tns:eventClass>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>BebBroadcastComponentFactory:BebBroadcastComponent</tns:componentName>
   <tns:eventClass>assignment3.events.BroadcastMessage</tns:eventClass>
   <tns:channelName>DelayComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>TimerComponentFactory:TimerComponent</tns:componentName>
   <tns:eventClass>assignment1.events.DelayTimerExpiredEvent</tns:eventClass>
   <tns:channelName>DelayComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>TimerComponentFactory:TimerComponent</tns:componentName>
   <tns:eventClass>tbn.timer.events.TimerExpiredEvent</tns:eventClass>
   <tns:channelName>ApplicationComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>TimerComponentFactory:TimerComponent</tns:componentName>
   <tns:eventClass>assignment5.events.EldTimeoutEvent</tns:eventClass>
   <tns:channelName>EventualLeaderDetectorInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>ApplicationComponentFactory:ApplicationComponent</tns:componentName>
   <tns:eventClass>assignment1.events.InitEvent</tns:eventClass>
   <tns:channelName>InitEventChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>ApplicationComponentFactory:ApplicationComponent</tns:componentName>
   <tns:eventClass>assignment4.events.ApplicationEvent</tns:eventClass>
   <tns:channelName>ApplicationComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>ApplicationComponentFactory:ApplicationComponent</tns:componentName>
   <tns:eventClass>tbn.timer.events.TimerEvent</tns:eventClass>
   <tns:channelName>TimerEventChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>ApplicationComponentFactory:ApplicationComponent</tns:componentName>
   <tns:eventClass>assignment5.events.UcProposeEvent</tns:eventClass>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>CommunicationComponentFactory:CommunicationComponent</tns:componentName>
   <tns:eventClass>assignment3.events.BroadcastMessage</tns:eventClass>
   <tns:channelName>BebBroadcastComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>CommunicationComponentFactory:CommunicationComponent</tns:componentName>
   <tns:eventClass>assignment5.events.ReadAckMessage</tns:eventClass>
   <tns:channelName>AbortableConsensusInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>CommunicationComponentFactory:CommunicationComponent</tns:componentName>
   <tns:eventClass>assignment5.events.WriteAckMessage</tns:eventClass>
   <tns:channelName>AbortableConsensusInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>CommunicationComponentFactory:CommunicationComponent</tns:componentName>
   <tns:eventClass>assignment5.events.NackMessage</tns:eventClass>
   <tns:channelName>AbortableConsensusInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>CommunicationComponentFactory:CommunicationComponent</tns:componentName>
   <tns:eventClass>assignment5.events.EldHeartbeatMessage</tns:eventClass>
   <tns:channelName>EventualLeaderDetectorInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>DelayComponentFactory:DelayComponent</tns:componentName>
   <tns:eventClass>tbn.comm.mina.events.MessageEvent</tns:eventClass>
   <tns:channelName>CommunicationComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>DelayComponentFactory:DelayComponent</tns:componentName>
   <tns:eventClass>tbn.timer.events.TimerEvent</tns:eventClass>
   <tns:channelName>TimerEventChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>PaxosUniformConsensusComponentFactory:PaxosUniformConsensusComponent</tns:componentName>
   <tns:eventClass>assignment5.events.UcDecideEvent</tns:eventClass>
   <tns:channelName>ApplicationComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>PaxosUniformConsensusComponentFactory:PaxosUniformConsensusComponent</tns:componentName>
   <tns:eventClass>assignment3.events.BebBroadcastEvent</tns:eventClass>
   <tns:channelName>BebBroadcastComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>PaxosUniformConsensusComponentFactory:PaxosUniformConsensusComponent</tns:componentName>
   <tns:eventClass>assignment5.events.AcProposeEvent</tns:eventClass>
   <tns:channelName>AbortableConsensusInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:eventClass>assignment5.events.AcReturnEvent</tns:eventClass>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:eventClass>assignment3.events.BebBroadcastEvent</tns:eventClass>
   <tns:channelName>BebBroadcastComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:eventClass>assignment5.events.ReadAckMessage</tns:eventClass>
   <tns:channelName>DelayComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:eventClass>assignment5.events.WriteAckMessage</tns:eventClass>
   <tns:channelName>DelayComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:eventClass>assignment5.events.NackMessage</tns:eventClass>
   <tns:channelName>DelayComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>EventualLeaderDetectorComponentFactory:EventualLeaderDetectorComponent</tns:componentName>
   <tns:eventClass>assignment5.events.EldHeartbeatMessage</tns:eventClass>
   <tns:channelName>DelayComponentInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>EventualLeaderDetectorComponentFactory:EventualLeaderDetectorComponent</tns:componentName>
   <tns:eventClass>assignment5.events.TrustLeaderEvent</tns:eventClass>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
  </tns:binding>
  <tns:binding>
   <tns:componentName>EventualLeaderDetectorComponentFactory:EventualLeaderDetectorComponent</tns:componentName>
   <tns:eventClass>tbn.timer.events.TimerEvent</tns:eventClass>
   <tns:channelName>TimerEventChannel</tns:channelName>
  </tns:binding>
 </tns:bindings>
 <tns:subscriptions>
  <tns:subscription>
   <tns:componentName>BebBroadcastComponentFactory:BebBroadcastComponent</tns:componentName>
   <tns:channelName>BebBroadcastComponentInputChannel</tns:channelName>
   <tns:handlerName>handleBebBroadcastMessageEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>BebBroadcastComponentFactory:BebBroadcastComponent</tns:componentName>
   <tns:channelName>BebBroadcastComponentInputChannel</tns:channelName>
   <tns:handlerName>handleBebBroadcastEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>BebBroadcastComponentFactory:BebBroadcastComponent</tns:componentName>
   <tns:channelName>InitEventChannel</tns:channelName>
   <tns:handlerName>handleInitEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>TimerComponentFactory:TimerComponent</tns:componentName>
   <tns:channelName>TimerEventChannel</tns:channelName>
   <tns:handlerName>handleTimerEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>CommunicationComponentFactory:CommunicationComponent</tns:componentName>
   <tns:channelName>CommunicationComponentInputChannel</tns:channelName>
   <tns:handlerName>handleSendEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>DelayComponentFactory:DelayComponent</tns:componentName>
   <tns:channelName>DelayComponentInputChannel</tns:channelName>
   <tns:handlerName>handleMessageEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>DelayComponentFactory:DelayComponent</tns:componentName>
   <tns:channelName>DelayComponentInputChannel</tns:channelName>
   <tns:handlerName>handleDelayTimerExpiredEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>DelayComponentFactory:DelayComponent</tns:componentName>
   <tns:channelName>InitEventChannel</tns:channelName>
   <tns:handlerName>handleInitEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>PaxosUniformConsensusComponentFactory:PaxosUniformConsensusComponent</tns:componentName>
   <tns:channelName>InitEventChannel</tns:channelName>
   <tns:handlerName>handleInitEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>PaxosUniformConsensusComponentFactory:PaxosUniformConsensusComponent</tns:componentName>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
   <tns:handlerName>handleUcProposeEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>PaxosUniformConsensusComponentFactory:PaxosUniformConsensusComponent</tns:componentName>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
   <tns:handlerName>handleAcReturnEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>PaxosUniformConsensusComponentFactory:PaxosUniformConsensusComponent</tns:componentName>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
   <tns:handlerName>handleBebDeliverEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>PaxosUniformConsensusComponentFactory:PaxosUniformConsensusComponent</tns:componentName>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
   <tns:handlerName>handleTrustLeaderEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:channelName>AbortableConsensusInputChannel</tns:channelName>
   <tns:handlerName>handleReadAckMessage</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:channelName>AbortableConsensusInputChannel</tns:channelName>
   <tns:handlerName>handleWriteAckMessage</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:channelName>AbortableConsensusInputChannel</tns:channelName>
   <tns:handlerName>handleNackMessage</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
   <tns:handlerName>handleBebDeliverEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:channelName>AbortableConsensusInputChannel</tns:channelName>
   <tns:handlerName>handleAcProposeEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
   <tns:channelName>InitEventChannel</tns:channelName>
   <tns:handlerName>handleInitEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>EventualLeaderDetectorComponentFactory:EventualLeaderDetectorComponent</tns:componentName>
   <tns:channelName>EventualLeaderDetectorInputChannel</tns:channelName>
   <tns:handlerName>handleEldTimeoutEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>EventualLeaderDetectorComponentFactory:EventualLeaderDetectorComponent</tns:componentName>
   <tns:channelName>EventualLeaderDetectorInputChannel</tns:channelName>
   <tns:handlerName>handleEldHeartbeatMessage</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>EventualLeaderDetectorComponentFactory:EventualLeaderDetectorComponent</tns:componentName>
   <tns:channelName>InitEventChannel</tns:channelName>
   <tns:handlerName>handleInitEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>ApplicationComponentFactory:ApplicationComponent</tns:componentName>
   <tns:channelName>ApplicationComponentInputChannel</tns:channelName>
   <tns:handlerName>handleUcDecideEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>ApplicationComponentFactory:ApplicationComponent</tns:componentName>
   <tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
   <tns:handlerName>handleTrustLeaderEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>ApplicationComponentFactory:ApplicationComponent</tns:componentName>
   <tns:channelName>ApplicationComponentInputChannel</tns:channelName>
   <tns:handlerName>handleApplicationEvent</tns:handlerName>
  </tns:subscription>
  <tns:subscription>
   <tns:componentName>ApplicationComponentFactory:ApplicationComponent</tns:componentName>
   <tns:channelName>ApplicationComponentInputChannel</tns:channelName>
   <tns:handlerName>handleNextOp</tns:handlerName>
  </tns:subscription>
 </tns:subscriptions>
    <tns:startSequence>
  	<tns:startComponents>
  		<tns:componentName>ApplicationComponentFactory:ApplicationComponent</tns:componentName>
  		<tns:componentName>BebBroadcastComponentFactory:BebBroadcastComponent</tns:componentName>
  		<tns:componentName>PaxosUniformConsensusComponentFactory:PaxosUniformConsensusComponent</tns:componentName>
  		<tns:componentName>AbortableConsensusComponentFactory:AbortableConsensusComponent</tns:componentName>
  		<tns:componentName>EventualLeaderDetectorComponentFactory:EventualLeaderDetectorComponent</tns:componentName>
  		<tns:componentName>TimerComponentFactory:TimerComponent</tns:componentName>
  		<tns:componentName>CommunicationComponentFactory:CommunicationComponent</tns:componentName>
  		<tns:componentName>DelayComponentFactory:DelayComponent</tns:componentName>
  	</tns:startComponents>
  	<tns:startChannels>
  	<tns:channelName>InitEventChannel</tns:channelName>
  		<tns:channelName>ApplicationComponentInputChannel</tns:channelName>
  		<tns:channelName>BebBroadcastComponentInputChannel</tns:channelName>
  		<tns:channelName>PaxosUniformConsensusInputChannel</tns:channelName>
  		<tns:channelName>AbortableConsensusInputChannel</tns:channelName>
  		<tns:channelName>EventualLeaderDetectorInputChannel</tns:channelName>
  		<tns:channelName>TimerEventChannel</tns:channelName>
  		<tns:channelName>CommunicationComponentInputChannel</tns:channelName>
  		<tns:channelName>DelayComponentInputChannel</tns:channelName>
  	</tns:startChannels>
  </tns:startSequence>
</tns:configuration>

